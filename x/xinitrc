#!/usr/bin/zsh

setopt nobgnice

if [ -d /etc/X11/xinit/xinitrc.d ]; then
    for f in /etc/X11/xinit/xinitrc.d/?*.sh ; do
        [ -x "$f" ] && . "$f"
    done
    unset f
fi

xrdb ~/dotfiles/x/Xresources

# Don't ring bells
xset b off

keynav "loadconfig ~/dotfiles/keynavrc" &
unclutter --timeout 2 --jitter 2 &
udiskie -s &
redshift-gtk &
qbittorrent &

if [[ "$HOST" == "Akatsuki" ]]; then
    dunst -config ~/dotfiles/dunstrc &
    easystroke &
fi

if [[ "$HOST" == "Hitagi" ]]; then
    dunst -config ~/dotfiles/dunstrc \
        -geometry "300x5-20+20" -font "Ubuntu Mono 11.5" &
    libinput-gestures &
    nm-applet &
fi

~/.fehbg &

~/dotfiles/i3/genconfig
exec i3 -c /var/run/user/$UID/i3config

